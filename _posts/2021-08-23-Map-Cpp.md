---
title: "Map & Set in C++"
toc: true
toc_label: "On this page"
toc_icon: "chevron-right"
categories:
  - Cpp
use_math: true

---

# 1. What is Map?
> Maps are associative containers that store elements formed by a combination of a key value and a mapped value, following a specific order.

## 1-1. Map의 특징
- Map은 연관 컨테이너(associative container) 중 하나로, **key와 그에 해당하는 value**가 하나의 쌍으로 저장된다.
- Key와 value는 **pair**로 저장되며, 각각이 노드인 **균형 이진 트리** 구조이다. (red-black tree)
- Key는 value에 접근하고 정렬하는데 사용되고, **중복이 불가능**하다. (`multimap`은 중복 key를 허용)
- Map에 key와 value를 삽입하면 **key를 기준으로 자동으로 정렬**된다.

## 1-2. Map 선언하기
Map은 `<map>` 헤더 파일에 정의되어 있으며, `map<T1, T2> var_name;`과 같이 선언한다. 이때 `T1`은 key의 자료형, `T2`는 연결되는 value의 자료형을 말한다. 만약 정렬 기준을 바꾸고 싶다면, 적절한 클래스를 정의해준 다음 인자로 전달한다.
```cpp
#include <map>

struct compare {
    bool operator() (int i, int j) { return (i > j); }
};

int main()
{
    map<int, char> var_name1; // 오름차순 정렬
    map<int, char, compare> var_name2; // 내림차순 정렬
}
```

# 2. Member functions of Map
## 2-1. Element Access: operator []
**1) operator []**: Map에 존재하는 key이면 해당하는 value의 참조형을 반환, 존재하지 않는 key이면 새로운 원소를 삽입하고 그 원소의 value에 대한 참조형을 반환
```cpp
#include <iostream>
#include <map>
using namespace std;

int main()
{
    map<int, char> m;
    m[1] = 'A'; // 새로운 원소를 삽입
    m[2] = 'B';
    cout << "key: 1, value: " << m[1] << endl; // 이미 존재하는 원소의 value에 접근
    
    if (!m[3]) cout << "map size: " << m.size() << endl; // 새로운 원소의 value를 입력하지 않아도 원소가 삽입된다.
}
```
```
key: 1, value: A
map size: 3
```



