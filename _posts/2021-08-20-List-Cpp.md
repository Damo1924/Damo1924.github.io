---
title: "List in C++"
toc: true
toc_label: "On this page"
toc_icon: "chevron-right"
categories:
  - Cpp
use_math: true

---

# 1. What is List?
> Lists are sequence containers that allow non-contiguous memory allocation.

각 원소들이 메모리 상에서 연속적으로 저장되어 있던 벡터(vector)와 달리, 리스트(list)의 원소들은 메모리에서 이웃하지 않는 대신 **연결(linked)**되어 있다. 일반적으로 C++에서 list는 Doubly-linked list을 의미하고, forward_list는 Single-linked list를 뜻한다.
- **Doubly-linked list**: 각 원소가 해당 원소의 다음 원소와 이전 원소의 위치 정보를 가진다.
- **Single-linked list**: 각 원소가 해당 원소의 다음 원소의 위치 정보를 가진다.

리스트는 노드들 사이의 연결을 통해 구성된 자료구조이므로, **원소의 삽입/삭제가 배열/벡터에 비해 더 빠르다.** 리스트에서 원소를 삭제하려면 해당 원소와 연결된 두 원소들을 서로 연결해주면 된고, 원소를 삽입하려면 연결되어 있던 두 원소의 연결을 끊고 각각 삽입하려는 원소와 연결해주면 된다. 그렇기 때문에 위치에 관계없이 원소를 추가하고 삭제하는데 걸리는 시간이 일정하다. 원소가 추가되거나 삭제될 때마다 원소들의 메모리 상의 주소를 옮겨야하는 벡터보다 당연히 효율적임을 알 수 있다.

하지만 리스트는 벡터처럼 **인덱스를 통해 원소에 접근하는 것이 불가능**하다. 어떤 원소를 검색하거나 변경하고 싶을 때 곧바로 찾아낼 수 없다.

즉, 리스트는 배열/벡터에서 인덱스를 통해 원소로 쉽게 접근할 수 있는 장점을 버린 대신 원소를 추가하고 삭제하는 비용이 적게 드는 자료구조라고 할 수 있다. 만약 데이터가 자주 추가되는 프로그램이라면 리스트를, 데이터를 탐색하고 변경하기 위한 프로그램이라면 벡터를 사용하는 것이 좋을 것이다.


<br/>
# 2. List in C++ STL
## 2-1. 리스트 선언하기
리스트는 `<list>` 헤더 파일에 정의되어 있으며, 다음과 같이 선언할 수 있다.
```cpp
list<T> list_name;
```
이때 `T`는 저장할 데이터의 자료형을 의미한다

## 2-2. (constructor)
생성자를 이용하면 선언과 동시에 원하는 값으로 리스트를 초기화시킬 수 있다.
```cpp
list<T> list_name(n, v);
```
위는 모든 원소의 값이 **v**, 길이 **n**인 리스트를 생성한다. 만약 두 번째 인자 `v`를 전달하지 않으면 n만큼의 디폴트 값으로 채워진 리스트가 생성된다. 디폴트 값은 자료형에 따라서 달라지는데, int는 0, char는 ' '이다.

기존에 존재하던 리스트 또는 리스트의 일부를 복사하여 새로운 리스트를 생성할 수 있다.
```cpp
list<int> score = {90, 80, 87, 96};
list<int> score_1 (score);
list<int> score_2 (score.begin(), score.end());
list<int> score_3 = score; // 리스트 전체를 복사하는 것은 = 연산자를 사용해도 된다.
```

굳이 리스트가 아니더라도 배열이나 벡터의 원소들을 복사하여 리스트를 생성할 수도 있다.
```cpp
int arr[] = {1, 3, 5, 6};
list<int> L (arr, arr + 4);
```

## 2-3. assign()
생성자가 선언과 동시에 초기화를 할 수 있도록 해준다면, `assign()`은 선언을 한 다음에 초기화를 시키는 함수이다. 앞서 살펴본 생성자와 동일한 인자를 받아서 동일하게 초기화한다.
```cpp
int arr[] = {1, 3, 5, 6};
list<int> L_1, L_2, L_3;

L_1.assign(4, 100); // 길이 4, 각 원소가 100인 리스트
L_2.assign(L_1.begin(), L_1.end()); // L_1과 동일한 리스트
L_3.assign(arr, arr+4); // 배열로부터 초기화
```

## 2-4. 


# References
[1] 
