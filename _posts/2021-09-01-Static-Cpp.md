---
title: "Static"
toc: true
toc_label: "On this page"
toc_icon: "chevron-right"
categories:
  - Cpp
use_math: true

---

# 1. Memory Structure
프로그램은 다음과 같은 과정을 통해 실행된다.

1. 사용자가 프로그램 실행 요청
2. 운영체제(OS)에서 프로그램의 정보를 읽어 메모리에 로드(load)
3. CPU는 프로그램의 코드를 따라 메모리를 관리하고 명령문을 실행

이처럼 프로그램을 실행하면 컴퓨터의 운영체제는 메모리(RAM)에 공간을 할당하는데, 다음의 4가지 종류의 메모리 공간을 할당해준다.

- **코드(code) 영역**: 우리가 작성한 **소스코드**가 저장되는 공간으로, 실행 파일을 구성하는 명령어들(함수, 제어문, 상수 등)이 저장된다.
- **데이터(data) 영역**: **전역변수**와 **정적변수**가 할당되는 공간으로, 프로그램의 시작과 동시에 할당되고, 프로그램이 종료되어야 메모리가 소멸된다.
- **힙(heap) 영역**: 프로그래머가 **동적 할당(dynamic memory allocation)** 통해 메모리를 할당 또는 해제하는 메모리 공간이다.
- **스택(stack) 영역**: 프로그램이 자동으로 사용하는 **임시 메모리 공간**으로, 함수 호출 시 생성되는 **지역변수**와 **매개변수**가 저장되며, 함수 호출이 완료되면 소멸된다.

아래는 이러한 메모리 구조를 그림으로 나타낸 것이다.

(그림)

+ Heap과 Stack 영역은 메모리 상의 같은 공간을 공유하는데, Heap은 메모리 위쪽 주소부터 할당되고 Stack은 메모리 아래쪽부터 할당된다. 그러다보면 각 영역이 상대 영역을 침범하는 일이 발생할 수 있는데, 이를 각각 **Heap Overflow**, **Stack overflow**라고 부른다.

# 2. 지역(Local) 변수 & 전역(Global) 변수
## 2-1. 지역 변수(Local variable)
지역 변수란 **블록** 내에서 선언된 변수를 의미하며, 다음과 같은 특징을 갖는다. 이때 블록(block)이란 중괄호 영역을 뜻한다.

- **변수가 선언된 블록 내에서만 유효**하다.
- 지역 변수는 임시 메모리 공간인 스택 영역에 저장되기 때문에 해당 블록이 종료되면 메모리에서 소멸된다.
- 지역 변수는 **초기화하지 않으면 아무런 의미가 없는 값으로 자동적으로 초기화**된다.
- **함수의 매개변수** 또한 함수 내에서 정의된 지역 변수로 취급된다.

## 2-2. 전역 변수(Global variable)
전역 변수란 함수의 외부에서 선언된 변수를 의미하며, 다음과 같은 특징을 갖는다.

- 전역 변수는 프로그램의 어느 곳에서나 접근이 가능하다.
- 데이터 영역에 저장되기 때문에 **프로그램이 종료되어야 메모리에서 소멸**된다.
- 전역 변수는 직접 초기화하지 않아도 **0으로 자동적으로 초기화**된다.



# 3. 정적(Static) 변수
`static`은 C 언어와 C++ 등의 프로그래밍 언어의 키워드로서, 변수나 클래스의 멤버를 static으로 선언하여 사용할 수 있다. static


# References
[1] [TCPschool, '메모리의 구조'](http://tcpschool.com/c/c_memory_structure)  
[2] 
