---

title: "[BOJ] 11493. 동전 교환"

toc: true

toc_label: "On this page"

toc_icon: "chevron-right"

categories:

  - PS

use_math: true

comments: true

---

`Tags` Floyd-Warshall, MCMF on Undirected graph

## [BOJ] 11493. 동전 교환

[BOJ 11493. 동전 교환 문제 링크](https://www.acmicpc.net/problem/11493)

**[PROBLEM]**

$n$개의 정점과 $m$개의 간선으로 이루어진 연결 그래프가 주어진다.

각 정점 위에는 동전이 하나씩 놓여 있으며, 각 정점과 각 동전은 흰색 또는 검은색이다.

위 그래프에 대하여 인접한 정점 위에 놓인 동전을 교환할 수 있는데, 이러한 연산을 "동전 교환"이라고 부른다.

이때 모든 검정색 동전을 검정색 정점 위로, 모든 흰색 동전을 흰색 정점 위로 올리기 위해 필요한 동전 교환 연산의 최소 횟수를 구하여라.

**[INPUT]**

첫 번째 줄에는 테스트케이스의 개수 $t$가 주어진다.

각 테스트케이스의 첫 번째 줄에는 두 정수 $n, m$($1 \leq n \leq 500$, $n - 1 \leq m \leq n(n-1)/2$)이 주어진다.

다음 $m$개의 줄에 걸쳐 인접한 두 정점 $x, y$($1 \leq x < y \leq n$)이 주어진다.

다음 줄에는 정점의 색깔을 의미하는 0 또는 1의 값을 가지는 $n$개의 정수가 주어진다.

마지막 줄에는 동전의 색깔을 의미하는 0 또는 1의 값을 가지는 $n$개의 정수가 주어진다.

0은 검정색, 1은 흰색을 의미한다.

**[OUTPUT]**

각 테스트케이스에 대하여 모든 동전과 정점의 색깔을 일치시키기 위해 필요한 동전 교환 연산의 최소 횟수를 출력한다.

---

### [IDEA]

주어진 그래프가 연결 그래프이므로 임의의 두 정점 위에 놓인 동전을 서로 교환할 수 있다.

따라서 이미 같은 색깔의 동전이 놓여져 있는 정점은 제외하고, **같은 색깔의 동전이 놓이지 않은 다른 색깔의 두 정점을 매칭**하는 문제로 생각할 수 있다.

모든 정점 위에 정점과 같은 색깔의 동전이 있도록 해야하므로 **최대 매칭**이고, 최대 매칭에 대한 최소 연산 횟수를 구해야하므로 **MCMF**를 이용하면 된다.

---

### [SOLUTION 1] Floyd-Warshall algorithm + MCMF

먼저 [이 포스팅](https://damo1924.github.io/algorithm/MCMF/)에서처럼 인접행렬을 이용한 MCMF를 사용하기 위해 정점을 분리해주자.

**무향 그래프에 대해서는 인접행렬을 이용한 MCMF를 바로 적용할 수 없기 때문**이다.



---

### [SOLUTION 2] MCMF on Undirected graph




