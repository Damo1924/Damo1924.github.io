---

title: "[백준] 1648. 격자판 채우기"

toc: true

toc_label: "On this page"

toc_icon: "chevron-right"

categories:

  - PS

use_math: true

comments: true

---

`Tags` Bitmask DP

## [백준] 1648. 격자판 채우기

[백준 1648. 격자판 채우기 문제 링크](https://www.acmicpc.net/problem/1648)

**[PROBLEM]**

크기가 $N \times M$인 격자판을 $2 \times 1$ 크기의 도미노 조각으로 빈 공간이 없도록 채우는 방법의 수를 구하여라.

**[INPUT]**

첫 번째 줄에 두 정수 $N, M$($1\leq N, M \leq 14$)가 주어진다.

**[OUTPUT]**

첫 번째 줄에 주어진 격자판을 채우는 방법의 수를 $9901$로 나눈 나머지를 출력한다.

---

### [SOLUTION] Bitmask DP

다음과 같은 DP 배열을 정의하자.

> - $idx$($0 \leq idx < N \cdot M$) : 격자판 위의 칸
> - $st$($0 \leq st < 2^M$) : $M$개의 칸($idx, idx + 1, \dots, idx + M - 1$)의 상태
> 
> 만약 $idx + k$ 칸에 도미노가 올려져 있다면, `st & (1 << k)`의 값이 1이다.
> 
> $dp\[idx\]\[st\]$ : $0$ ~ $idx - 1$은 모두 채워져 있고, $idx + M$ ~ $NM - 1$은 모두 비워져 있다. $idx$부터 $M$개의 칸들의 상태가 $st$로 표현될 때, 격자판을 빈틈없이 채우는 경우의 수를 저장한다.

그림으로 표현하면 다음과 같다.

<center><img src="" width="70%" height="70%"></center>







