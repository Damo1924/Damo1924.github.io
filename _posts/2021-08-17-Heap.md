---
title: "Heap & Priority queue in C++"
toc: true
toc_label: "On this page"
toc_icon: "chevron-right"
categories:
  - Cpp
use_math: true

---

# 1. Heap
## 1-1. 힙(heap)이란?
힙(heap)은 완전 이진 트리의 일종으로, **부모 노드와 자식 노드 간에 항상 일정한 대소관계가 성립**하는 자료구조이다. 부모와 자식 노드의 대소관계에 따라서 **최대힙**과 **최소힙**으로 나눈다.
- **최대 힙(max heap)**: 부모 노드가 자식 노드보다 크거나 같은 완전 이진 트리
- **최소 힙(min heap)**: 부모 노드가 자식 노드보다 작거나 같은 완전 이진 트리

또 형제 노드 간에 대소 관계가 정해져 있지 않아 **부분 순서 트리(partial ordered tree)**라고 부르기도 한다.

힙은 일반적으로 배열에 저장되는데, 배열을 H라고 했을 때 원소 `H[i]`에 대해 다음이 성립한다.
- 부모 노드: `H[(i - 1) / 2]`
- 왼쪽 자식 노드: `H[2i + 1]`
- 오른쪽 자식 노드: `H[2i + 2]`

이진 탐색 트리와는 달리 힙 트리에서는 중복된 값을 허용한다. 힙을 이용하면 주어진 데이터들의 **최댓값이나 최솟값을 찾기 쉽다**는 장점이 있다. 최대 힙에서는 루트(root)에 최댓값이, 최소 힙에서는 루트에 최솟값이 오기 때문에 최댓값과 최솟값을 찾기 용이하다. 이를 이용하면 빠른 정렬 알고리즘 중 하나인 **힙 정렬(heap sort)**과 유용한 자료구조인 **우선순위 큐(priority queue)**를 구현할 수 있다.

## 1-2. 힙 구조에 원소 추가/삭제하기
힙 구조에서 원소를 추가하고 삭제하는 방법에 대해서 알아보자.

먼저 원소를 추가하기 위해서는 추가하려는 원소를 힙의 가장 끝(배열의 맨 끝)에 삽입한 후 그 원소를 부모 노드와 비교/교환하는 과정을 통해 힙으로 만들어야 한다. 삽입한 원소를 부모 노드와 비교해서 대소관계를 만족할 때까지 교환한다. 아래는 힙에 원소를 추가하는 함수를 구현한 코드이다.


힙에서 원소를 삭제하는 것은 루트에 있는 원소를 삭제함을 의미한다. 루트(배열의 맨 앞)를 삭제하고 배열의 맨 끝에 위치한 원소를 루트로 옮긴다. 그 다음 해당 원소를 자식 노드와 비교해서 대소 관계가 성립할 때까지 교환하는 과정을 반복해서 다시 힙 구조로 만들어준다. 아래는 힙에 원소를 삭제하는 함수를 구현한 코드이다.


## 1-3. 리스트를 힙 구조로 변환하기
임의의 리스트를 힙 구조로 바꾸는 방법에 대해서 알아보자.

가장 아래에 있는 작은 트리부터 시작해서 전체 트리까지 힘 구조로 만든다. 아래는 임의의 배열을 힙 구조로 바꾸는 함수를 구현한 코드이다.

